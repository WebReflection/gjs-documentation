<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gio.DBusConnection.prototype.register_object</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Gio">Gio</a> » <a class="trail" href="Gio.DBusConnection.html" title="Gio.DBusConnection">Gio.DBusConnection</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gio.DBusConnection.prototype.register_object</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">function register_object(object_path: String, interface_info: <span class="link"><a href="Gio.DBusInterfaceInfo.html" title="Gio.DBusInterfaceInfo">Gio.DBusInterfaceInfo</a></span>, vtable: <span class="link"><a href="Gio.DBusInterfaceVTable.html" title="Gio.DBusInterfaceVTable">Gio.DBusInterfaceVTable</a></span>, user_data: void, user_data_free_func: <span class="link"><a href="../GLib-2.0/GLib.DestroyNotify.html" title="../GLib-2.0/GLib.DestroyNotify.html">GLib.DestroyNotify</a></span>): Number(guint) {
    // Gjs wrapper for g_dbus_connection_register_object()
}
  </pre></div></div></div></div></div>
<p class="p">Registers callbacks for exported objects at <span class="code">object_path</span> with the
D-Bus interface that is described in <span class="code">interface_info</span>.</p>
<p class="p">Calls to functions in <span class="code">vtable</span> (and <span class="code">user_data_free_func</span>) will happen
in the
[thread-default main context][g-main-context-push-thread-default]
of the thread you are calling this method from.</p>
<p class="p">Note that all <span class="link"><a href="../GLib-2.0/GLib.Variant.html" title="../GLib-2.0/GLib.Variant.html">GLib.Variant</a></span> values passed to functions in <span class="code">vtable</span> will match
the signature given in <span class="code">interface_info</span> - if a remote caller passes
incorrect values, the `org.freedesktop.DBus.Error.InvalidArgs`
is returned to the remote caller.</p>
<p class="p">Additionally, if the remote caller attempts to invoke methods or
access properties not mentioned in <span class="code">interface_info</span> the
`org.freedesktop.DBus.Error.UnknownMethod` resp.
`org.freedesktop.DBus.Error.InvalidArgs` errors
are returned to the caller.</p>
<p class="p">It is considered a programming error if the
<span class="link"><a href="Gio.DBusInterfaceGetPropertyFunc.html" title="Gio.DBusInterfaceGetPropertyFunc">Gio.DBusInterfaceGetPropertyFunc</a></span> function in <span class="code">vtable</span> returns a
<span class="link"><a href="../GLib-2.0/GLib.Variant.html" title="../GLib-2.0/GLib.Variant.html">GLib.Variant</a></span> of incorrect type.</p>
<p class="p">If an existing callback is already registered at <span class="code">object_path</span> and
@interface_name, then @error is set to #G_IO_ERROR_EXISTS.</p>
<p class="p">GDBus automatically implements the standard D-Bus interfaces
org.freedesktop.DBus.Properties, org.freedesktop.DBus.Introspectable
and org.freedesktop.Peer, so you don't have to implement those for the
objects you export. You can implement org.freedesktop.DBus.Properties
yourself, e.g. to handle getting and setting of properties asynchronously.</p>
<p class="p">Note that the reference count on <span class="code">interface_info</span> will be
incremented by 1 (unless allocated statically, e.g. if the
reference count is -1, see <span class="link"><a href="Gio.DBusInterfaceInfo.ref.html" title="Gio.DBusInterfaceInfo.prototype.ref">Gio.DBusInterfaceInfo.prototype.ref</a></span>) for as long
as the object is exported. Also note that <span class="code">vtable</span> will be copied.</p>
<p class="p">See this [server][gdbus-server] for an example of how to use this method.</p>
<p class="p">Since 2.26</p>
<div class="terms"><div class="inner"><div class="region"><dl class="terms">
<dt class="terms"><span class="code">object_path</span></dt>
<dd class="terms"><p class="p">the object path to register at</p></dd>
<dt class="terms"><span class="code">interface_info</span></dt>
<dd class="terms"><p class="p">introspection data for the interface</p></dd>
<dt class="terms"><span class="code">vtable</span></dt>
<dd class="terms"><p class="p">a <span class="link"><a href="Gio.DBusInterfaceVTable.html" title="Gio.DBusInterfaceVTable">Gio.DBusInterfaceVTable</a></span> to call into or <span class="code">null</span></p></dd>
<dt class="terms"><span class="code">user_data</span></dt>
<dd class="terms"><p class="p">data to pass to functions in <span class="code">vtable</span></p></dd>
<dt class="terms"><span class="code">user_data_free_func</span></dt>
<dd class="terms"><p class="p">function to call when the object path is unregistered</p></dd>
<dt class="terms"><span class="code">Returns</span></dt>
<dd class="terms"><p class="p">0 if @error is set, otherwise a registration id (never 0)
    that can be used with <span class="link"><a href="Gio.DBusConnection.unregister_object.html" title="Gio.DBusConnection.prototype.unregister_object">Gio.DBusConnection.prototype.unregister_object</a></span></p></dd>
</dl></div></div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gio.DBusConnection.html" title="Gio.DBusConnection">Gio.DBusConnection</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
