<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gio.Application</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Gio">Gio</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gio.Application</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">const Gio = imports.gi.Gio;

let application = new Gio.Application({
    <span class="link"><a href="Gio.Application-application-id.html" title="Gio.Application.application_id">application_id</a></span>: value,
});
  </pre></div></div></div></div></div>
<p class="p">A <span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span> is the foundation of an application.  It wraps some
low-level platform-specific services and is intended to act as the
foundation for higher-level application classes such as
#GtkApplication or #MxApplication.  In general, you should not use
this class outside of a higher level framework.</p>
<p class="p">GApplication provides convenient life cycle management by maintaining
a "use count" for the primary application instance. The use count can
be changed using <span class="link"><a href="Gio.Application.hold.html" title="Gio.Application.prototype.hold">Gio.Application.prototype.hold</a></span> and <span class="link"><a href="Gio.Application.release.html" title="Gio.Application.prototype.release">Gio.Application.prototype.release</a></span>. If
it drops to zero, the application exits. Higher-level classes such as
#GtkApplication employ the use count to ensure that the application
stays alive as long as it has any opened windows.</p>
<p class="p">Another feature that GApplication (optionally) provides is process
uniqueness. Applications can make use of this functionality by
providing a unique application ID. If given, only one application
with this ID can be running at a time per session. The session
concept is platform-dependent, but corresponds roughly to a graphical
desktop login. When your application is launched again, its
arguments are passed through platform communication to the already
running program. The already running instance of the program is
called the "primary instance"; for non-unique applications this is
the always the current instance. On Linux, the D-Bus session bus
is used for communication.</p>
<p class="p">The use of <span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span> differs from some other commonly-used
uniqueness libraries (such as libunique) in important ways. The
application is not expected to manually register itself and check
if it is the primary instance. Instead, the main() function of a
<span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span> should do very little more than instantiating the
application instance, possibly connecting signal handlers, then
calling <span class="link"><a href="Gio.Application.run.html" title="Gio.Application.prototype.run">Gio.Application.prototype.run</a></span>. All checks for uniqueness are done
internally. If the application is the primary instance then the
startup signal is emitted and the mainloop runs. If the application
is not the primary instance then a signal is sent to the primary
instance and <span class="link"><a href="Gio.Application.run.html" title="Gio.Application.prototype.run">Gio.Application.prototype.run</a></span> promptly returns. See the code
examples below.</p>
<p class="p">If used, the expected form of an application identifier is very close
to that of of a
[DBus bus name](http://dbus.freedesktop.org/doc/dbus-specification.html#message-protocol-names-interface).
Examples include: "com.example.MyApp", "org.example.internal-apps.Calculator".
For details on valid application identifiers, see <span class="link"><a href="Gio.Application.id_is_valid.html" title="Gio.Application.id_is_valid">Gio.Application.id_is_valid</a></span>.</p>
<p class="p">On Linux, the application identifier is claimed as a well-known bus name
on the user's session bus.  This means that the uniqueness of your
application is scoped to the current session.  It also means that your
application may provide additional services (through registration of other
object paths) at that bus name.  The registration of these object paths
should be done with the shared GDBus session bus.  Note that due to the
internal architecture of GDBus, method calls can be dispatched at any time
(even if a main loop is not running).  For this reason, you must ensure that
any object paths that you wish to register are registered before <span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span>
attempts to acquire the bus name of your application (which happens in
<span class="link"><a href="Gio.Application.register.html" title="Gio.Application.prototype.register">Gio.Application.prototype.register</a></span>).  Unfortunately, this means that you cannot use
<span class="link"><a href="Gio.Application.get_is_remote.html" title="Gio.Application.prototype.get_is_remote">Gio.Application.prototype.get_is_remote</a></span> to decide if you want to register object paths.</p>
<p class="p">GApplication also implements the <span class="link"><a href="Gio.ActionGroup.html" title="Gio.ActionGroup">Gio.ActionGroup</a></span> and <span class="link"><a href="Gio.ActionMap.html" title="Gio.ActionMap">Gio.ActionMap</a></span>
interfaces and lets you easily export actions by adding them with
<span class="link"><a href="Gio.ActionMap.add_action.html" title="Gio.ActionMap.prototype.add_action">Gio.ActionMap.prototype.add_action</a></span>. When invoking an action by calling
<span class="link"><a href="Gio.ActionGroup.activate_action.html" title="Gio.ActionGroup.prototype.activate_action">Gio.ActionGroup.prototype.activate_action</a></span> on the application, it is always
invoked in the primary instance. The actions are also exported on
the session bus, and GIO provides the <span class="link"><a href="Gio.DBusActionGroup.html" title="Gio.DBusActionGroup">Gio.DBusActionGroup</a></span> wrapper to
conveniently access them remotely. GIO provides a <span class="link"><a href="Gio.DBusMenuModel.html" title="Gio.DBusMenuModel">Gio.DBusMenuModel</a></span> wrapper
for remote access to exported #GMenuModels.</p>
<p class="p">There is a number of different entry points into a GApplication:</p>
<p class="p">- via 'Activate' (i.e. just starting the application)</p>
<p class="p">- via 'Open' (i.e. opening some files)</p>
<p class="p">- by handling a command-line</p>
<p class="p">- via activating an action</p>
<p class="p">The <span class="link"><a href="Gio.Application-startup.html" title="Gio.Application::startup">Gio.Application::startup</a></span> signal lets you handle the application
initialization for all of these in a single place.</p>
<p class="p">Regardless of which of these entry points is used to start the
application, GApplication passes some "platform data from the
launching instance to the primary instance, in the form of a
<span class="link"><a href="../GLib-2.0/GLib.Variant.html" title="../GLib-2.0/GLib.Variant.html">GLib.Variant</a></span> dictionary mapping strings to variants. To use platform
data, override the @before_emit or @after_emit virtual functions
in your <span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span> subclass. When dealing with
<span class="link"><a href="Gio.ApplicationCommandLine.html" title="Gio.ApplicationCommandLine">Gio.ApplicationCommandLine</a></span> objects, the platform data is
directly available via <span class="link"><a href="Gio.ApplicationCommandLine.get_cwd.html" title="Gio.ApplicationCommandLine.prototype.get_cwd">Gio.ApplicationCommandLine.prototype.get_cwd</a></span>,
<span class="link"><a href="Gio.ApplicationCommandLine.get_environ.html" title="Gio.ApplicationCommandLine.prototype.get_environ">Gio.ApplicationCommandLine.prototype.get_environ</a></span> and
<span class="link"><a href="Gio.ApplicationCommandLine.get_platform_data.html" title="Gio.ApplicationCommandLine.prototype.get_platform_data">Gio.ApplicationCommandLine.prototype.get_platform_data</a></span>.</p>
<p class="p">As the name indicates, the platform data may vary depending on the
operating system, but it always includes the current directory (key
"cwd"), and optionally the environment (ie the set of environment
variables and their values) of the calling process (key "environ").
The environment is only added to the platform data if the
<span class="link"><a href="Gio.ApplicationFlags.html" title="Gio.ApplicationFlags">Gio.ApplicationFlags</a></span>.send_environment flag is set. <span class="link"><a href="Gio.Application.html" title="Gio.Application">Gio.Application</a></span> subclasses
can add their own platform data by overriding the @add_platform_data
virtual function. For instance, #GtkApplication adds startup notification
data in this way.</p>
<p class="p">To parse commandline arguments you may handle the
<span class="link"><a href="Gio.Application-command-line.html" title="Gio.Application::command-line">Gio.Application::command-line</a></span> signal or override the local_command_line()
vfunc, to parse them in either the primary instance or the local instance,
respectively.</p>
<p class="p">For an example of opening files with a GApplication, see
[gapplication-example-open.c](https://git.gnome.org/browse/glib/tree/gio/tests/gapplication-example-open.c).</p>
<p class="p">For an example of using actions with GApplication, see
[gapplication-example-actions.c](https://git.gnome.org/browse/glib/tree/gio/tests/gapplication-example-actions.c).</p>
<p class="p">For an example of using extra D-Bus hooks with GApplication, see
[gapplication-example-dbushooks.c](https://git.gnome.org/browse/glib/tree/gio/tests/gapplication-example-dbushooks.c).</p>
<p class="p">Since 2.28</p>
<div class="synopsis"><div class="inner">
<div class="title title-synopsis"><h2><span class="title">Hierarchy</span></h2></div>
<div class="region"><div class="contents"><div class="tree"><div class="inner"><div class="region"><ul class="tree"><li class="tree">
<div>
        <span class="code">GObject.Object</span>
      
      </div>
<ul class="tree"><li class="tree"><div>
        <span class="code">Gio.Application</span>
      </div></li></ul>
</li></ul></div></div></div></div></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Constructors</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gio.Application.new.html" title="Gio.Application.new">Gio.Application.new</a></li></ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Methods</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.Application.activate.html" title="Gio.Application.prototype.activate">Gio.Application.prototype.activate</a></li>
<li class="links "><a href="Gio.Application.add_main_option_entries.html" title="Gio.Application.prototype.add_main_option_entries">Gio.Application.prototype.add_main_option_entries</a></li>
<li class="links "><a href="Gio.Application.add_option_group.html" title="Gio.Application.prototype.add_option_group">Gio.Application.prototype.add_option_group</a></li>
<li class="links "><a href="Gio.Application.get_application_id.html" title="Gio.Application.prototype.get_application_id">Gio.Application.prototype.get_application_id</a></li>
<li class="links "><a href="Gio.Application.get_dbus_connection.html" title="Gio.Application.prototype.get_dbus_connection">Gio.Application.prototype.get_dbus_connection</a></li>
<li class="links "><a href="Gio.Application.get_dbus_object_path.html" title="Gio.Application.prototype.get_dbus_object_path">Gio.Application.prototype.get_dbus_object_path</a></li>
<li class="links "><a href="Gio.Application.get_flags.html" title="Gio.Application.prototype.get_flags">Gio.Application.prototype.get_flags</a></li>
<li class="links "><a href="Gio.Application.get_inactivity_timeout.html" title="Gio.Application.prototype.get_inactivity_timeout">Gio.Application.prototype.get_inactivity_timeout</a></li>
<li class="links "><a href="Gio.Application.get_is_registered.html" title="Gio.Application.prototype.get_is_registered">Gio.Application.prototype.get_is_registered</a></li>
<li class="links "><a href="Gio.Application.get_is_remote.html" title="Gio.Application.prototype.get_is_remote">Gio.Application.prototype.get_is_remote</a></li>
<li class="links "><a href="Gio.Application.hold.html" title="Gio.Application.prototype.hold">Gio.Application.prototype.hold</a></li>
<li class="links "><a href="Gio.Application.mark_busy.html" title="Gio.Application.prototype.mark_busy">Gio.Application.prototype.mark_busy</a></li>
<li class="links "><a href="Gio.Application.open.html" title="Gio.Application.prototype.open">Gio.Application.prototype.open</a></li>
<li class="links "><a href="Gio.Application.quit.html" title="Gio.Application.prototype.quit">Gio.Application.prototype.quit</a></li>
<li class="links "><a href="Gio.Application.register.html" title="Gio.Application.prototype.register">Gio.Application.prototype.register</a></li>
<li class="links "><a href="Gio.Application.release.html" title="Gio.Application.prototype.release">Gio.Application.prototype.release</a></li>
<li class="links "><a href="Gio.Application.run.html" title="Gio.Application.prototype.run">Gio.Application.prototype.run</a></li>
<li class="links "><a href="Gio.Application.send_notification.html" title="Gio.Application.prototype.send_notification">Gio.Application.prototype.send_notification</a></li>
<li class="links "><a href="Gio.Application.set_action_group.html" title="Gio.Application.prototype.set_action_group">Gio.Application.prototype.set_action_group</a></li>
<li class="links "><a href="Gio.Application.set_application_id.html" title="Gio.Application.prototype.set_application_id">Gio.Application.prototype.set_application_id</a></li>
<li class="links "><a href="Gio.Application.set_default.html" title="Gio.Application.prototype.set_default">Gio.Application.prototype.set_default</a></li>
<li class="links "><a href="Gio.Application.set_flags.html" title="Gio.Application.prototype.set_flags">Gio.Application.prototype.set_flags</a></li>
<li class="links "><a href="Gio.Application.set_inactivity_timeout.html" title="Gio.Application.prototype.set_inactivity_timeout">Gio.Application.prototype.set_inactivity_timeout</a></li>
<li class="links "><a href="Gio.Application.unmark_busy.html" title="Gio.Application.prototype.unmark_busy">Gio.Application.prototype.unmark_busy</a></li>
<li class="links "><a href="Gio.Application.withdraw_notification.html" title="Gio.Application.prototype.withdraw_notification">Gio.Application.prototype.withdraw_notification</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Static Functions</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.Application.get_default.html" title="Gio.Application.get_default">Gio.Application.get_default</a></li>
<li class="links "><a href="Gio.Application.id_is_valid.html" title="Gio.Application.id_is_valid">Gio.Application.id_is_valid</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Properties</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.Application-action-group.html" title="Gio.Application.action_group">action-group</a></li>
<li class="links "><a href="Gio.Application-application-id.html" title="Gio.Application.application_id">application-id</a></li>
<li class="links "><a href="Gio.Application-flags.html" title="Gio.Application.flags">flags</a></li>
<li class="links "><a href="Gio.Application-inactivity-timeout.html" title="Gio.Application.inactivity_timeout">inactivity-timeout</a></li>
<li class="links "><a href="Gio.Application-is-registered.html" title="Gio.Application.is_registered">is-registered</a></li>
<li class="links "><a href="Gio.Application-is-remote.html" title="Gio.Application.is_remote">is-remote</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Signals</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.Application-activate.html" title="Gio.Application::activate">activate</a></li>
<li class="links "><a href="Gio.Application-command-line.html" title="Gio.Application::command-line">command-line</a></li>
<li class="links "><a href="Gio.Application-handle-local-options.html" title="Gio.Application::handle-local-options">handle-local-options</a></li>
<li class="links "><a href="Gio.Application-open.html" title="Gio.Application::open">open</a></li>
<li class="links "><a href="Gio.Application-shutdown.html" title="Gio.Application::shutdown">shutdown</a></li>
<li class="links "><a href="Gio.Application-startup.html" title="Gio.Application::startup">startup</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Virtual functions</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.Application-add_platform_data.html" title="Gio.Application::add_platform_data">Gio.Application::add_platform_data</a></li>
<li class="links "><a href="Gio.Application-after_emit.html" title="Gio.Application::after_emit">Gio.Application::after_emit</a></li>
<li class="links "><a href="Gio.Application-before_emit.html" title="Gio.Application::before_emit">Gio.Application::before_emit</a></li>
<li class="links "><a href="Gio.Application-command_line.html" title="Gio.Application::command_line">Gio.Application::command_line</a></li>
<li class="links "><a href="Gio.Application-dbus_register.html" title="Gio.Application::dbus_register">Gio.Application::dbus_register</a></li>
<li class="links "><a href="Gio.Application-dbus_unregister.html" title="Gio.Application::dbus_unregister">Gio.Application::dbus_unregister</a></li>
<li class="links "><a href="Gio.Application-handle_local_options.html" title="Gio.Application::handle_local_options">Gio.Application::handle_local_options</a></li>
<li class="links "><a href="Gio.Application-local_command_line.html" title="Gio.Application::local_command_line">Gio.Application::local_command_line</a></li>
<li class="links "><a href="Gio.Application-quit_mainloop.html" title="Gio.Application::quit_mainloop">Gio.Application::quit_mainloop</a></li>
<li class="links "><a href="Gio.Application-run_mainloop.html" title="Gio.Application::run_mainloop">Gio.Application::run_mainloop</a></li>
</ul></div>
</div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="index.html" title="Gio">Gio</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
