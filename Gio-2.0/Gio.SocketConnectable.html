<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gio.SocketConnectable</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Gio">Gio</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gio.SocketConnectable</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">const Gio = imports.gi.Gio;

let socket_connectable = new Gio.SocketConnectable();
  </pre></div></div></div></div></div>
<p class="p">Objects that describe one or more potential socket endpoints
implement <span class="link"><a href="Gio.SocketConnectable.html" title="Gio.SocketConnectable">Gio.SocketConnectable</a></span>. Callers can then use
<span class="link"><a href="Gio.SocketConnectable.enumerate.html" title="Gio.SocketConnectable.prototype.enumerate">Gio.SocketConnectable.prototype.enumerate</a></span> to get a <span class="link"><a href="Gio.SocketAddressEnumerator.html" title="Gio.SocketAddressEnumerator">Gio.SocketAddressEnumerator</a></span>
to try out each socket address in turn until one succeeds, as shown
in the sample code below.</p>
<p class="p">|[&lt;!-- language="C" --&gt;
MyConnectionType *
connect_to_host (const char    *hostname,
                 guint16        port,
                 GCancellable  *cancellable,
                 GError       **error)
{
  MyConnection *conn = NULL;
  GSocketConnectable *addr;
  GSocketAddressEnumerator *enumerator;
  GSocketAddress *sockaddr;
  GError *conn_error = NULL;</p>
<p class="p">  addr = g_network_address_new (hostname, port);
  enumerator = g_socket_connectable_enumerate (addr);
  g_object_unref (addr);</p>
<p class="p">  // Try each sockaddr until we succeed. Record the first connection error,
  // but not any further ones (since they'll probably be basically the same
  // as the first).
  while (!conn &amp;&amp; (sockaddr = g_socket_address_enumerator_next (enumerator, cancellable, error))
    {
      conn = connect_to_sockaddr (sockaddr, conn_error ? NULL : &amp;conn_error);
      g_object_unref (sockaddr);
    }
  g_object_unref (enumerator);</p>
<p class="p">  if (conn)
    {
      if (conn_error)
        {
          // We couldn't connect to the first address, but we succeeded
          // in connecting to a later address.
          g_error_free (conn_error);
        }
      return conn;
    }
  else if (error)
    {
      /// Either initial lookup failed, or else the caller cancelled us.
      if (conn_error)
        g_error_free (conn_error);
      return NULL;
    }
  else
    {
      g_error_propagate (error, conn_error);
      return NULL;
    }
}
]|</p>
<div class="synopsis"><div class="inner">
<div class="title title-synopsis"><h2><span class="title">Prerequisites</span></h2></div>
<div class="region"><div class="contents"><p class="p">SocketConnectable requires GObject.Object</p></div></div>
</div></div>
<div class="synopsis"><div class="inner">
<div class="title title-synopsis"><h2><span class="title">Known Implementations</span></h2></div>
<div class="region"><div class="contents"><p class="p">SocketConnectable is implemented by InetSocketAddress, NetworkAddress, NetworkService, ProxyAddress, SocketAddress and UnixSocketAddress</p></div></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Methods</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.SocketConnectable.enumerate.html" title="Gio.SocketConnectable.prototype.enumerate">Gio.SocketConnectable.prototype.enumerate</a></li>
<li class="links "><a href="Gio.SocketConnectable.proxy_enumerate.html" title="Gio.SocketConnectable.prototype.proxy_enumerate">Gio.SocketConnectable.prototype.proxy_enumerate</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Virtual functions</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gio.SocketConnectable-enumerate.html" title="Gio.SocketConnectable::enumerate">Gio.SocketConnectable::enumerate</a></li>
<li class="links "><a href="Gio.SocketConnectable-proxy_enumerate.html" title="Gio.SocketConnectable::proxy_enumerate">Gio.SocketConnectable::proxy_enumerate</a></li>
</ul></div>
</div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="index.html" title="Gio">Gio</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
