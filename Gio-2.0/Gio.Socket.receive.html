<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gio.Socket.prototype.receive</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Gio">Gio</a> » <a class="trail" href="Gio.Socket.html" title="Gio.Socket">Gio.Socket</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gio.Socket.prototype.receive</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">function receive(buffer: ByteArray, cancellable: <span class="link"><a href="Gio.Cancellable.html" title="Gio.Cancellable">Gio.Cancellable</a></span>): Number(gssize) {
    // Gjs wrapper for g_socket_receive()
}
  </pre></div></div></div></div></div>
<p class="p">Receive data (up to <span class="code">size</span> bytes) from a socket. This is mainly used by
connection-oriented sockets; it is identical to <span class="link"><a href="Gio.Socket.receive_from.html" title="Gio.Socket.prototype.receive_from">Gio.Socket.prototype.receive_from</a></span>
with @address set to <span class="code">null</span>.</p>
<p class="p">For <span class="link"><a href="Gio.SocketType.html" title="Gio.SocketType">Gio.SocketType</a></span>.datagram and <span class="link"><a href="Gio.SocketType.html" title="Gio.SocketType">Gio.SocketType</a></span>.seqpacket sockets,
<span class="link"><a href="Gio.Socket.receive.html" title="Gio.Socket.prototype.receive">Gio.Socket.prototype.receive</a></span> will always read either 0 or 1 complete messages from
the socket. If the received message is too large to fit in <span class="code">buffer</span>, then
the data beyond <span class="code">size</span> bytes will be discarded, without any explicit
indication that this has occurred.</p>
<p class="p">For <span class="link"><a href="Gio.SocketType.html" title="Gio.SocketType">Gio.SocketType</a></span>.stream sockets, <span class="link"><a href="Gio.Socket.receive.html" title="Gio.Socket.prototype.receive">Gio.Socket.prototype.receive</a></span> can return any
number of bytes, up to <span class="code">size</span>. If more than <span class="code">size</span> bytes have been
received, the additional data will be returned in future calls to
<span class="link"><a href="Gio.Socket.receive.html" title="Gio.Socket.prototype.receive">Gio.Socket.prototype.receive</a></span>.</p>
<p class="p">If the socket is in blocking mode the call will block until there
is some data to receive, the connection is closed, or there is an
error. If there is no data available and the socket is in
non-blocking mode, a <span class="link"><a href="Gio.IOErrorEnum.html" title="Gio.IOErrorEnum">Gio.IOErrorEnum</a></span>.would_block error will be
returned. To be notified when data is available, wait for the
<span class="link"><a href="../GLib-2.0/GLib.IOCondition.html" title="../GLib-2.0/GLib.IOCondition.html">GLib.IOCondition</a></span>.in condition.</p>
<p class="p">On error -1 is returned and @error is set accordingly.</p>
<p class="p">Since 2.22</p>
<div class="terms"><div class="inner"><div class="region"><dl class="terms">
<dt class="terms"><span class="code">buffer</span></dt>
<dd class="terms"><p class="p">a buffer to
    read data into (which should be at least <span class="code">size</span> bytes long).</p></dd>
<dt class="terms"><span class="code">cancellable</span></dt>
<dd class="terms"><p class="p">a %GCancellable or <span class="code">null</span></p></dd>
<dt class="terms"><span class="code">Returns</span></dt>
<dd class="terms"><p class="p">Number of bytes read, or 0 if the connection was closed by
the peer, or -1 on error</p></dd>
</dl></div></div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gio.Socket.html" title="Gio.Socket">Gio.Socket</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
