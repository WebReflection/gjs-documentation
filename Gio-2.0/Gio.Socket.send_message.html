<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gio.Socket.prototype.send_message</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Gio">Gio</a> » <a class="trail" href="Gio.Socket.html" title="Gio.Socket">Gio.Socket</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gio.Socket.prototype.send_message</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">function send_message(address: <span class="link"><a href="Gio.SocketAddress.html" title="Gio.SocketAddress">Gio.SocketAddress</a></span>, vectors: Array(<span class="link"><a href="Gio.OutputVector.html" title="Gio.OutputVector">Gio.OutputVector</a></span>), messages: Array(<span class="link"><a href="Gio.SocketControlMessage.html" title="Gio.SocketControlMessage">Gio.SocketControlMessage</a></span>), flags: Number(gint), cancellable: <span class="link"><a href="Gio.Cancellable.html" title="Gio.Cancellable">Gio.Cancellable</a></span>): Number(gssize) {
    // Gjs wrapper for g_socket_send_message()
}
  </pre></div></div></div></div></div>
<p class="p">Send data to <span class="code">address</span> on <span class="code">socket</span>.  This is the most complicated and
fully-featured version of this call. For easier use, see
<span class="link"><a href="Gio.Socket.send.html" title="Gio.Socket.prototype.send">Gio.Socket.prototype.send</a></span> and <span class="link"><a href="Gio.Socket.send_to.html" title="Gio.Socket.prototype.send_to">Gio.Socket.prototype.send_to</a></span>.</p>
<p class="p">If <span class="code">address</span> is <span class="code">null</span> then the message is sent to the default receiver
(set by <span class="link"><a href="Gio.Socket.connect.html" title="Gio.Socket.prototype.connect">Gio.Socket.prototype.connect</a></span>).</p>
<p class="p"><span class="code">vectors</span> must point to an array of <span class="link"><a href="Gio.OutputVector.html" title="Gio.OutputVector">Gio.OutputVector</a></span> structs and
<span class="code">num_vectors</span> must be the length of this array. (If <span class="code">num_vectors</span> is -1,
then <span class="code">vectors</span> is assumed to be terminated by a <span class="link"><a href="Gio.OutputVector.html" title="Gio.OutputVector">Gio.OutputVector</a></span> with a
<span class="code">null</span> buffer pointer.) The <span class="link"><a href="Gio.OutputVector.html" title="Gio.OutputVector">Gio.OutputVector</a></span> structs describe the buffers
that the sent data will be gathered from. Using multiple
#GOutputVectors is more memory-efficient than manually copying
data from multiple sources into a single buffer, and more
network-efficient than making multiple calls to <span class="link"><a href="Gio.Socket.send.html" title="Gio.Socket.prototype.send">Gio.Socket.prototype.send</a></span>.</p>
<p class="p"><span class="code">messages</span>, if non-<span class="code">null</span>, is taken to point to an array of <span class="code">num_messages</span>
<span class="link"><a href="Gio.SocketControlMessage.html" title="Gio.SocketControlMessage">Gio.SocketControlMessage</a></span> instances. These correspond to the control
messages to be sent on the socket.
If <span class="code">num_messages</span> is -1 then <span class="code">messages</span> is treated as a <span class="code">null</span>-terminated
array.</p>
<p class="p"><span class="code">flags</span> modify how the message is sent. The commonly available arguments
for this are available in the <span class="link"><a href="Gio.SocketMsgFlags.html" title="Gio.SocketMsgFlags">Gio.SocketMsgFlags</a></span> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too.</p>
<p class="p">If the socket is in blocking mode the call will block until there is
space for the data in the socket queue. If there is no space available
and the socket is in non-blocking mode a <span class="link"><a href="Gio.IOErrorEnum.html" title="Gio.IOErrorEnum">Gio.IOErrorEnum</a></span>.would_block error
will be returned. To be notified when space is available, wait for the
<span class="link"><a href="../GLib-2.0/GLib.IOCondition.html" title="../GLib-2.0/GLib.IOCondition.html">GLib.IOCondition</a></span>.out condition. Note though that you may still receive
<span class="link"><a href="Gio.IOErrorEnum.html" title="Gio.IOErrorEnum">Gio.IOErrorEnum</a></span>.would_block from <span class="link"><a href="Gio.Socket.send.html" title="Gio.Socket.prototype.send">Gio.Socket.prototype.send</a></span> even if you were previously
notified of a <span class="link"><a href="../GLib-2.0/GLib.IOCondition.html" title="../GLib-2.0/GLib.IOCondition.html">GLib.IOCondition</a></span>.out condition. (On Windows in particular, this is
very common due to the way the underlying APIs work.)</p>
<p class="p">On error -1 is returned and @error is set accordingly.</p>
<p class="p">Since 2.22</p>
<div class="terms"><div class="inner"><div class="region"><dl class="terms">
<dt class="terms"><span class="code">address</span></dt>
<dd class="terms"><p class="p">a <span class="link"><a href="Gio.SocketAddress.html" title="Gio.SocketAddress">Gio.SocketAddress</a></span>, or <span class="code">null</span></p></dd>
<dt class="terms"><span class="code">vectors</span></dt>
<dd class="terms"><p class="p">an array of <span class="link"><a href="Gio.OutputVector.html" title="Gio.OutputVector">Gio.OutputVector</a></span> structs</p></dd>
<dt class="terms"><span class="code">messages</span></dt>
<dd class="terms"><p class="p">a pointer to an
  array of #GSocketControlMessages, or <span class="code">null</span>.</p></dd>
<dt class="terms"><span class="code">flags</span></dt>
<dd class="terms"><p class="p">an int containing <span class="link"><a href="Gio.SocketMsgFlags.html" title="Gio.SocketMsgFlags">Gio.SocketMsgFlags</a></span> flags</p></dd>
<dt class="terms"><span class="code">cancellable</span></dt>
<dd class="terms"><p class="p">a %GCancellable or <span class="code">null</span></p></dd>
<dt class="terms"><span class="code">Returns</span></dt>
<dd class="terms"><p class="p">Number of bytes written (which may be less than @size), or -1
on error</p></dd>
</dl></div></div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gio.Socket.html" title="Gio.Socket">Gio.Socket</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
