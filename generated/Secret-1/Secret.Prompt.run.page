<?xml version="1.0"?>
<page id="Secret.Prompt.run"
      type="topic"
      style="method"
      xmlns="http://projectmallard.org/1.0/"
      xmlns:api="http://projectmallard.org/experimental/api/"
      xmlns:ui="http://projectmallard.org/1.0/ui/">
  <info>
    <link xref="Secret.Prompt" group="method" type="guide"/>
    <api:function>
      <api:returns>
        <api:type>GLib.Variant</api:type>
      </api:returns>
      <api:name>secret_prompt_run</api:name>
      <api:arg>
        <api:type>String</api:type>
        <api:name>window_id</api:name>
      </api:arg>
      <api:arg>
        <api:type>Gio.Cancellable</api:type>
        <api:name>cancellable</api:name>
      </api:arg>
      <api:arg>
        <api:type>GLib.VariantType</api:type>
        <api:name>return_type</api:name>
      </api:arg>
    </api:function>
  </info>
  <title>Secret.Prompt.prototype.run</title>
  <synopsis><code mime="text/x-gjs">
function run(window_id: String, cancellable: <link href="../Gio-2.0/Gio.Cancellable.html">Gio.Cancellable</link>, return_type: <link href="../GLib-2.0/GLib.VariantType.html">GLib.VariantType</link>): <link href="../GLib-2.0/GLib.Variant.html">GLib.Variant</link> {
    // Gjs wrapper for secret_prompt_run()
}
  </code></synopsis>
  <p>Runs a prompt and performs the prompting. Returns a variant result if the
prompt was completed and not dismissed. The type of result depends on the
action the prompt is completing, and is defined in the Secret Service DBus
API specification.</p>  <p>If <code>window_id</code> is non-null then it is used as an XWindow id on Linux. The API
expects this id to be converted to a string using the &lt;literal&gt;%d&lt;/literal&gt;
printf format. The Secret Service can make its prompt transient for the window
with this id. In some Secret Service implementations this is not possible, so
the behavior depending on this should degrade gracefully.</p>  <p>This runs the dialog in a recursive mainloop. When run from a user interface
thread, this means the user interface will remain responsive. Care should be
taken that appropriate user interface actions are disabled while running the
prompt.</p>

<terms>
<item>
<title><code>window_id</code></title>
  <p>string form of XWindow id for parent window to be transient for</p>
</item>
<item>
<title><code>cancellable</code></title>
  <p>optional cancellation object</p>
</item>
<item>
<title><code>return_type</code></title>
  <p>the variant type of the prompt result</p>
</item>
<item>
<title><code>Returns</code></title>
  <p><code>null</code> if the prompt was dismissed or an error occurred</p>
</item>
</terms>

</page>
