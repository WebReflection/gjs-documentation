<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>WebKit2.UserContentManager.prototype.register_script_message_handler</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="WebKit2">WebKit2</a> » <a class="trail" href="WebKit2.UserContentManager.html" title="WebKit2.UserContentManager">WebKit2.UserContentManager</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">WebKit2.UserContentManager.prototype.register_script_message_handler</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">function register_script_message_handler(name: String): Boolean {
    // Gjs wrapper for webkit_user_content_manager_register_script_message_handler()
}
  </pre></div></div></div></div></div>
<p class="p">Registers a new user script message handler. After it is registered,
scripts can use `window.webkit.messageHandlers.&amp;lt;name&amp;gt;.postMessage(value)`
to send messages. Those messages are received by connecting handlers
to the <span class="link"><a href="WebKit2.UserContentManager-script-message-received.html" title="WebKit2.UserContentManager::script-message-received">WebKit2.UserContentManager::script-message-received</a></span> signal. The
handler name is used as the detail of the signal. To avoid race
conditions between registering the handler name, and starting to
receive the signals, it is recommended to connect to the signal
*before* registering the handler name:</p>
<p class="p">&lt;informalexample&gt;&lt;programlisting&gt;
WebKitWebView *view = webkit_web_view_new ();
WebKitUserContentManager *manager = webkit_web_view_get_user_content_manager ();
g_signal_connect (manager, "script-message-received::foobar",
                  G_CALLBACK (handle_script_message), NULL);
webkit_user_content_manager_register_script_message_handler (manager, "foobar");
&lt;/programlisting&gt;&lt;/informalexample&gt;</p>
<p class="p">Registering a script message handler will fail if the requested
name has been already registered before.</p>
<p class="p">Since 2.8</p>
<div class="terms"><div class="inner"><div class="region"><dl class="terms">
<dt class="terms"><span class="code">name</span></dt>
<dd class="terms"><p class="p">Name of the script message channel</p></dd>
<dt class="terms"><span class="code">Returns</span></dt>
<dd class="terms"><p class="p"><span class="code">true</span> if message handler was registered successfully, or <span class="code">false</span> otherwise.</p></dd>
</dl></div></div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="WebKit2.UserContentManager.html" title="WebKit2.UserContentManager">WebKit2.UserContentManager</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
